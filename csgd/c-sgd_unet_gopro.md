# UNet C-SGD剪枝

## 参数量

以下数据基于输入(3,300,400)，与(3,3000,4000)的Flops, MAdd,MACs,MemR+W等项会不同。

|  网络   | 参数量 | 内存 | MAdd | FLOPs | MemR+W| MACs|
|  ----  | ----  | ---- | ---- | ---- | ---- | ---- |
| UNet         | 17,258,691 | 486.72MB  | 145.86G | 73.02GFlops |1.0GB    | 73.04 GMac |
| UNet(13/16)  | 11,394,399 | 395.72MB  | 96.37G  | 48.26GFlops |824.12MB | 48.27 GMac |
| UNet(11/16)  | 8,158,791  | 335.05MB  | 69.05G  | 34.59GFlops |692.1MB  | 34.6 GMac  |
| UNet(5/8)    | 6,743,163  | 304.72MB  | 57.1G   | 28.61GFlops |626.86MB | 28.62 GMac |

## 性能

在GoPro数据集上，UNet一开始训练能达到PSNR为28.3。利用c-sgd迭代剪枝后会现有一个性能的退化（三次迭代中第一个epoch的PSNR分别是25，27.4，25）。然后随着训练，网络性能逐渐恢复，PSNR基本都能恢复到28.2以上。

总体来看，c-sgd在UNet上的剪枝的效果和在分类网络上的效果不同。利用c-sgd迫使卷积层filter向中心聚拢后再剪枝仍然会导致模型性能退化，不过网络性能会随着后期的fine-tune回升至原先水平。
